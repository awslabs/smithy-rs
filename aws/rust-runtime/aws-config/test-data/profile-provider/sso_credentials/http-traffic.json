{
  "docs": "test case using sso credentials",
  "version": "V0",
  "events": [
    {
      "connection_id": 0,
      "action": {
        "Request": {
          "request": {
            "uri": "https://portal.sso.us-east-1.amazonaws.com/federation/credentials?role_name=SampleRole&account_id=012345678901",
            "headers": {
              "x-amz-sso_bearer_token": [
                "secret-access-token"
              ],
              "host": [
                "portal.sso.us-east-1.amazonaws.com"
              ]
            },
            "method": "GET"
          }
        }
      }
    },
    {
      "connection_id": 0,
      "action": {
        "Data": {
          "data": {
            "Utf8": ""
          },
          "direction": "Request"
        }
      }
    },
    {
      "connection_id": 0,
      "action": {
        "Eof": {
          "ok": true,
          "direction": "Request"
        }
      }
    },
    {
      "connection_id": 0,
      "action": {
        "Response": {
          "response": {
            "Ok": {
              "status": 200,
              "version": "HTTP/1.1",
              "headers": {
                "date": [
                  "Thu, 05 Aug 2021 18:58:02 GMT"
                ],
                "content-length": [
                  "1491"
                ],
                "content-type": [
                  "text/xml"
                ],
                "x-amzn-requestid": [
                  "c2e971c2-702d-4124-9b1f-1670febbea18"
                ]
              }
            }
          }
        }
      }
    },
    {
      "connection_id": 0,
      "action": {
        "Data": {
          "data": {
            "Utf8": "<AssumeRoleResponse xmlns=\"https://sts.amazonaws.com/doc/2011-06-15/\">\n  <AssumeRoleResult>\n    <AssumedRoleUser>\n      <AssumedRoleId>AROARABCDEFGHIJKLMNOP:assume-role-provider-session</AssumedRoleId>\n      <Arn>arn:aws:sts::123456789012:assumed-role/integration-test/assume-role-provider-session</Arn>\n    </AssumedRoleUser>\n    <Credentials>\n      <AccessKeyId>ASIARTESTID</AccessKeyId>\n      <SecretAccessKey>TESTSECRETKEY</SecretAccessKey>\n      <SessionToken>TESTSESSIONTOKEN</SessionToken>\n      <Expiration>2021-08-05T19:58:02Z</Expiration>\n    </Credentials>\n  </AssumeRoleResult>\n  <ResponseMetadata>\n    <RequestId>c2e971c2-702d-4124-9b1f-1670febbea18</RequestId>\n  </ResponseMetadata>\n</AssumeRoleResponse>\n"
          },
          "direction": "Response"
        }
      }
    },
    {
      "connection_id": 0,
      "action": {
        "Eof": {
          "ok": true,
          "direction": "Response"
        }
      }
    }
  ]
}
